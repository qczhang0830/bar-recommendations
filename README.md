# 上海酒吧推荐系统

一个面向移动端的上海酒吧推荐平台，包含精选酒吧列表和数据分析功能。用户可以浏览酒吧推荐、筛选感兴趣的类型、查看详细推荐理由，并进行点赞互动。

## 功能特点

### 推荐列表页 (/)
- 精美的顶部氛围展示
- 快速筛选标签（场景、特色等）
- 酒吧卡片展示（包含图片、推荐语）
- 推荐语自动轮播（3秒间隔）
- 支持推荐语点赞功能
- 响应式设计，移动端优先

### 数据分析页 (/analytics)
- 整体数据概览
  - 总访问量
  - 平均停留时长
  - 平均浏览卡片数
  - 总点赞数
- 两种数据视图
  - 按酒吧查看：展示各酒吧的访问和互动数据
  - 按推荐语查看：展示所有推荐语的效果数据
- 支持多维度排序
- 支持酒吧筛选

## 技术栈

- React 18 + TypeScript
- Tailwind CSS（样式）
- Vite（构建工具）
- React Router（路由）

## 数据配置

### 数据文件位置
真实数据文件应放置在 `src/data/real-bars.json` 中。


### 数据要求
1. 图片资源
   - 酒吧图片：建议尺寸 800x450，格式支持 jpg/png/webp
   - 作者头像：建议尺寸 200x200，格式支持 jpg/png/webp
   - 所有图片需上传至图床或 CDN，使用 URL 引用

2. 内容规范
   - 酒吧名称：不超过 20 个字符
   - 推荐语：每个酒吧固定 3 条，每条不超过 40 个字符
   - 标签：系统生成


### 标签生成规则
系统会从推荐语内容中提取标签：
1. 标签来源：仅从推荐语实际内容中提取
2. 提取原则：
   - 直接提取推荐语中提到的关键特点
   - 不添加推荐语中未提到的内容
   - 避免主观臆测和过度延伸
3. 标签应用：
   - 每个酒吧 2-3 个标签
   - 标签需与推荐语内容直接相关
   - 用简短词组表达核心特点

### 更新数据步骤
1. 准备数据文件：按上述格式准备 `real-bars.json`
2. 图片上传：public\images\bar

## 数据统计口径说明

### 总体行为数据
1. 总浏览量
   - 定义：所选时段内的页面访问次数
   - 统计方式：每次打开推荐列表页面记为一次浏览
   - 去重：不去重，同一用户多次访问均计入

2. 页面平均停留时间
   - 定义：用户在推荐列表页面的平均停留时长（秒）
   - 统计方式：从页面打开到关闭/切换的时间间隔
   - 计算方法：所有访问的停留时间总和 / 访问次数

3. 总点赞数
   - 定义：时间段内所有推荐语被点赞的净增数
   - 统计方式：点赞+1，取消点赞-1
   - 说明：同一用户对同一推荐语的多次点赞会被记录

4. 人均浏览卡片数
   - 定义：平均每次访问查看的不同酒吧卡片数量
   - 统计方式：不同酒吧卡片的查看数 / 总访问次数
   - 去重：同一次访问内查看同一酒吧多次只记一次

### 酒吧数据
1. 卡片查看数
   - 定义：酒吧卡片被点击展开的次数
   - 统计方式：每次点击展开卡片记为一次查看
   - 去重：不去重，同一用户多次查看均计入

2. 推荐语点赞总数
   - 定义：该酒吧所有推荐语的点赞净增数之和
   - 统计方式：点赞+1，取消点赞-1
   - 累计：所有推荐语的点赞数之和

3. 平均停留时长
   - 定义：用户查看酒吧详情的平均时长（秒）
   - 统计方式：从打开详情到关闭的时间间隔
   - 计算方法：总停留时间 / 查看次数

### 推荐语数据
1. 浏览量
   - 定义：推荐语所在卡片的被查看次数
   - 统计方式：继承自酒吧卡片的查看次数
   - 说明：同一卡片的所有推荐语共享浏览量

2. 点赞数
   - 定义：推荐语获得的点赞净增数
   - 统计方式：点赞+1，取消点赞-1
   - 说明：同一用户的重复点赞会被记录

3. 点赞率
   - 定义：推荐语获得的点赞数占浏览量的百分比
   - 计算方法：点赞数 / 浏览量 * 100%

